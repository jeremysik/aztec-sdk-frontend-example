"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.randomCoreDefiTx = exports.randomCorePaymentTx = exports.randomCoreAccountTx = void 0;
const account_id_1 = require("@aztec/barretenberg/account_id");
const bigint_buffer_1 = require("@aztec/barretenberg/bigint_buffer");
const client_proofs_1 = require("@aztec/barretenberg/client_proofs");
const tx_id_1 = require("@aztec/barretenberg/tx_id");
const crypto_1 = require("crypto");
const core_defi_tx_1 = require("./core_defi_tx");
const core_account_tx_1 = require("./core_account_tx");
const core_payment_tx_1 = require("./core_payment_tx");
const bridge_id_1 = require("@aztec/barretenberg/bridge_id");
const inputOrDefault = (inputValue, defaultValue) => inputValue !== undefined ? inputValue : defaultValue;
const randomCoreAccountTx = (tx = {}) => new core_account_tx_1.CoreAccountTx(tx.txId || tx_id_1.TxId.random(), tx.userId || account_id_1.AccountId.random(), tx.aliasHash || account_id_1.AliasHash.random(), tx.newSigningPubKey1 || (0, crypto_1.randomBytes)(32), tx.newSigningPubKey2 || (0, crypto_1.randomBytes)(32), tx.migrated || false, tx.txRefNo || 0, tx.created || new Date(), tx.settled);
exports.randomCoreAccountTx = randomCoreAccountTx;
const randomCorePaymentTx = (tx = {}) => new core_payment_tx_1.CorePaymentTx(tx.txId || tx_id_1.TxId.random(), tx.userId || account_id_1.AccountId.random(), inputOrDefault(tx.proofId, client_proofs_1.ProofId.SEND), tx.assetId || 0, tx.publicValue || BigInt(0), tx.publicOwner || undefined, tx.privateInput || BigInt(0), tx.recipientPrivateOutput || BigInt(0), tx.senderPrivateOutput || BigInt(0), inputOrDefault(tx.isRecipient, true), inputOrDefault(tx.isSender, true), tx.txRefNo || 0, tx.created || new Date(), tx.settled);
exports.randomCorePaymentTx = randomCorePaymentTx;
const randomCoreDefiTx = (tx = {}) => new core_defi_tx_1.CoreDefiTx(tx.txId || tx_id_1.TxId.random(), tx.userId || account_id_1.AccountId.random(), tx.bridgeId || bridge_id_1.BridgeId.random(), inputOrDefault(tx.depositValue, (0, bigint_buffer_1.toBigIntBE)((0, crypto_1.randomBytes)(4))), inputOrDefault(tx.txFee, (0, bigint_buffer_1.toBigIntBE)((0, crypto_1.randomBytes)(4))), (0, crypto_1.randomBytes)(32), tx.txRefNo || 0, tx.created || new Date(), tx.settled, tx.interactionNonce, tx.isAsync, tx.success, tx.outputValueA, tx.outputValueB, tx.finalised, tx.claimSettled, tx.claimTxId);
exports.randomCoreDefiTx = randomCoreDefiTx;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZml4dHVyZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY29yZV90eC9maXh0dXJlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwrREFBc0U7QUFDdEUscUVBQStEO0FBQy9ELHFFQUE0RDtBQUM1RCxxREFBaUQ7QUFDakQsbUNBQXFDO0FBQ3JDLGlEQUE0QztBQUM1Qyx1REFBa0Q7QUFDbEQsdURBQWtEO0FBQ2xELDZEQUF5RDtBQUV6RCxNQUFNLGNBQWMsR0FBRyxDQUFJLFVBQXlCLEVBQUUsWUFBZSxFQUFFLEVBQUUsQ0FDdkUsVUFBVSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUM7QUFFaEQsTUFBTSxtQkFBbUIsR0FBRyxDQUFDLEtBQTZCLEVBQUUsRUFBRSxFQUFFLENBQ3JFLElBQUksK0JBQWEsQ0FDZixFQUFFLENBQUMsSUFBSSxJQUFJLFlBQUksQ0FBQyxNQUFNLEVBQUUsRUFDeEIsRUFBRSxDQUFDLE1BQU0sSUFBSSxzQkFBUyxDQUFDLE1BQU0sRUFBRSxFQUMvQixFQUFFLENBQUMsU0FBUyxJQUFJLHNCQUFTLENBQUMsTUFBTSxFQUFFLEVBQ2xDLEVBQUUsQ0FBQyxpQkFBaUIsSUFBSSxJQUFBLG9CQUFXLEVBQUMsRUFBRSxDQUFDLEVBQ3ZDLEVBQUUsQ0FBQyxpQkFBaUIsSUFBSSxJQUFBLG9CQUFXLEVBQUMsRUFBRSxDQUFDLEVBQ3ZDLEVBQUUsQ0FBQyxRQUFRLElBQUksS0FBSyxFQUNwQixFQUFFLENBQUMsT0FBTyxJQUFJLENBQUMsRUFDZixFQUFFLENBQUMsT0FBTyxJQUFJLElBQUksSUFBSSxFQUFFLEVBQ3hCLEVBQUUsQ0FBQyxPQUFPLENBQ1gsQ0FBQztBQVhTLFFBQUEsbUJBQW1CLHVCQVc1QjtBQUVHLE1BQU0sbUJBQW1CLEdBQUcsQ0FBQyxLQUE2QixFQUFFLEVBQUUsRUFBRSxDQUNyRSxJQUFJLCtCQUFhLENBQ2YsRUFBRSxDQUFDLElBQUksSUFBSSxZQUFJLENBQUMsTUFBTSxFQUFFLEVBQ3hCLEVBQUUsQ0FBQyxNQUFNLElBQUksc0JBQVMsQ0FBQyxNQUFNLEVBQUUsRUFDL0IsY0FBYyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsdUJBQU8sQ0FBQyxJQUFJLENBQUMsRUFDeEMsRUFBRSxDQUFDLE9BQU8sSUFBSSxDQUFDLEVBQ2YsRUFBRSxDQUFDLFdBQVcsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQzNCLEVBQUUsQ0FBQyxXQUFXLElBQUksU0FBUyxFQUMzQixFQUFFLENBQUMsWUFBWSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFDNUIsRUFBRSxDQUFDLHNCQUFzQixJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFDdEMsRUFBRSxDQUFDLG1CQUFtQixJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFDbkMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLEVBQ3BDLGNBQWMsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxFQUNqQyxFQUFFLENBQUMsT0FBTyxJQUFJLENBQUMsRUFDZixFQUFFLENBQUMsT0FBTyxJQUFJLElBQUksSUFBSSxFQUFFLEVBQ3hCLEVBQUUsQ0FBQyxPQUFPLENBQ1gsQ0FBQztBQWhCUyxRQUFBLG1CQUFtQix1QkFnQjVCO0FBRUcsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLEtBQTBCLEVBQUUsRUFBRSxFQUFFLENBQy9ELElBQUkseUJBQVUsQ0FDWixFQUFFLENBQUMsSUFBSSxJQUFJLFlBQUksQ0FBQyxNQUFNLEVBQUUsRUFDeEIsRUFBRSxDQUFDLE1BQU0sSUFBSSxzQkFBUyxDQUFDLE1BQU0sRUFBRSxFQUMvQixFQUFFLENBQUMsUUFBUSxJQUFJLG9CQUFRLENBQUMsTUFBTSxFQUFFLEVBQ2hDLGNBQWMsQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLElBQUEsMEJBQVUsRUFBQyxJQUFBLG9CQUFXLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUMzRCxjQUFjLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxJQUFBLDBCQUFVLEVBQUMsSUFBQSxvQkFBVyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDcEQsSUFBQSxvQkFBVyxFQUFDLEVBQUUsQ0FBQyxFQUNmLEVBQUUsQ0FBQyxPQUFPLElBQUksQ0FBQyxFQUNmLEVBQUUsQ0FBQyxPQUFPLElBQUksSUFBSSxJQUFJLEVBQUUsRUFDeEIsRUFBRSxDQUFDLE9BQU8sRUFDVixFQUFFLENBQUMsZ0JBQWdCLEVBQ25CLEVBQUUsQ0FBQyxPQUFPLEVBQ1YsRUFBRSxDQUFDLE9BQU8sRUFDVixFQUFFLENBQUMsWUFBWSxFQUNmLEVBQUUsQ0FBQyxZQUFZLEVBQ2YsRUFBRSxDQUFDLFNBQVMsRUFDWixFQUFFLENBQUMsWUFBWSxFQUNmLEVBQUUsQ0FBQyxTQUFTLENBQ2IsQ0FBQztBQW5CUyxRQUFBLGdCQUFnQixvQkFtQnpCIn0=